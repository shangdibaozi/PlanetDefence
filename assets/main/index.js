System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var n,s;t({PhysicsGroup:void 0,UI_EVENT:void 0}),e._RF.push({},"214f1h/iORD3ZTWMOuf2DDV","Constants",void 0),function(t){t[t.PLAYER_MOVE=1e4]="PLAYER_MOVE",t[t.PLAYER_STOP_MOVE=10001]="PLAYER_STOP_MOVE"}(n||(n=t("UI_EVENT",{}))),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.Bullet=2]="Bullet",t[t.Planet=4]="Planet",t[t.Enemy=8]="Enemy",t[t.Shield=16]="Shield"}(s||(s=t("PhysicsGroup",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/EnemySpawner.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMgr.ts","./ObjPool.ts"],(function(e){"use strict";var t,a,i,n,r,o,s,p,l,u,h,c,m,y,w,R;return{setters:[function(e){t=e.cclegacy,a=e._decorator,i=e.v3,n=e.Prefab,r=e.Node,o=e.UITransform,s=e.Vec3,p=e.rect,l=e.Component},function(e){u=e.applyDecoratedDescriptor,h=e.inheritsLoose,c=e.initializerDefineProperty,m=e.assertThisInitialized,y=e.defineProperty},function(e){w=e.GameMgr},function(e){R=e.ObjPool}],execute:function(){var d,f,g,b,v,B,E,S,z,L,M,T,P,Y,x;t._RF.push({},"2602dhJ4iBIq73k1CB5N2MH","EnemySpawner",void 0);var A=a.ccclass,_=a.property,C=i();e("EnemySpawner",(d=A("EnemySpawner"),f=_({type:n}),g=_({type:n}),b=_({type:n}),v=_({type:[r]}),d((S=u((E=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,c(m(t),"epRed",S,m(t)),c(m(t),"epYellow",z,m(t)),c(m(t),"epBlue",L,m(t)),c(m(t),"spRateRed",M,m(t)),c(m(t),"spRateYellow",T,m(t)),c(m(t),"spRateBlue",P,m(t)),c(m(t),"timeBtEnemySpawn",Y,m(t)),c(m(t),"areas",x,m(t)),y(m(t),"areaRectLst",void 0),y(m(t),"spawnerTimer",0),t}h(t,e);var a=t.prototype;return a.onLoad=function(){this.areaRectLst=new Array(this.areas.length);for(var e=w.inst.gameLayer.getComponent(o),t=0;t<this.areas.length;t++){var a=this.areas[t].getComponent(o);e.convertToNodeSpaceAR(a.convertToWorldSpaceAR(s.ZERO,C),C);var i=this.areaRectLst[t]=p();i.x=C.x-.5*a.width,i.y=C.y-.5*a.height,i.width=a.width,i.height=a.height}this.spawnerTimer=this.timeBtEnemySpawn},a.update=function(e){this.spawnerTimer+=e,this.spawnerTimer>=this.timeBtEnemySpawn&&w.inst.gameActive&&(this.spawnerTimer-=this.timeBtEnemySpawn,this.spawnEnemy(),this.updateEnemyRate())},a.spawnEnemy=function(){var e=Math.floor(this.areaRectLst.length*Math.random()),t=this.areaRectLst[e];C.x=t.x+t.width*Math.random(),C.y=t.y+t.height*Math.random(),C.z=0;var a=this.getEnemy2Spawn(),i=R.getNode(a.data.name,a);i.parent=w.inst.gameLayer,i.setPosition(C)},a.getEnemy2Spawn=function(){var e=this.spRateRed+this.spRateBlue+this.spRateYellow,t=Math.random()*e;return t<=this.spRateRed?this.epRed:t<=this.spRateBlue+this.spRateRed?this.epBlue:this.epYellow},a.updateEnemyRate=function(){this.spRateRed+=.05,this.spRateYellow+=.03,this.spRateBlue+=.03},t}(l)).prototype,"epRed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=u(E.prototype,"epYellow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=u(E.prototype,"epBlue",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=u(E.prototype,"spRateRed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=u(E.prototype,"spRateYellow",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=u(E.prototype,"spRateBlue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=u(E.prototype,"timeBtEnemySpawn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=u(E.prototype,"areas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=E))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/Planet.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./Global.ts","./Rocket.ts","./Shake.ts"],(function(t){"use strict";var e,i,s,n,a,h,o,r,l,u,c,p,g,k,d,f;return{setters:[function(t){e=t.cclegacy,i=t._decorator,s=t.v3,n=t.Node,a=t.Vec3,h=t.toDegree,o=t.Component},function(t){r=t.UI_EVENT},function(t){l=t.applyDecoratedDescriptor,u=t.inheritsLoose,c=t.initializerDefineProperty,p=t.assertThisInitialized,g=t.defineProperty},function(t){k=t.Global},function(t){d=t.Rocket},function(t){f=t.Shake}],execute:function(){var y,S,v,P,m,x,b;e._RF.push({},"26327jfFGVLYZgKJgLt5vPQ","Planet",void 0);var I=i.ccclass,_=i.property,w=s(),z=function(){function t(){g(this,"originalPos",s()),g(this,"afterPos",s()),g(this,"xShakes",[]),g(this,"yShakes",[])}var e=t.prototype;return e.shake=function(t,e,i){this.xShakes.push(f.new(t,e,i)),this.yShakes.push(f.new(t,e,i))},e.update=function(t,e){var i=this.originalPos.x,s=this.originalPos.y;if(this.xShakes.length>0||this.yShakes.length>0){for(var n=0;n<this.xShakes.length;n++)this.xShakes[n].update(t),i+=this.xShakes[n].getAmplitude(),this.xShakes[n].notShaking&&(f.push(this.xShakes[n]),this.xShakes.splice(n,1),n--);for(var a=0;a<this.yShakes.length;a++)this.yShakes[a].update(t),s+=this.yShakes[a].getAmplitude(),this.yShakes[a].notShaking&&(f.push(this.yShakes[a]),this.yShakes.splice(a,1),a--)}e.setPosition(i,s,this.originalPos.z)},t}();t("Planet",(y=I("Planet"),S=_({type:d}),v=_({type:n,tooltip:"护罩"}),y((x=l((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,c(p(e),"rocket",x,p(e)),c(p(e),"planetShield",b,p(e)),g(p(e),"shootInterval",.3),g(p(e),"shootTimer",0),g(p(e),"heading",s(0,1,0)),g(p(e),"targetHeading",s(0,1,0)),g(p(e),"shakeInfo",new z),e}u(e,t);var i=e.prototype;return i.onLoad=function(){this.shakeInfo.originalPos.set(this.node.position),this.planetShield.active=!1,k.uiEvent.on(r.PLAYER_MOVE,this.onPlayerMove,this)},i.onPlayerMove=function(t){this.targetHeading.set(t)},i.shake=function(){this.shakeInfo.shake(5,90,.2)},i.update=function(t){a.equals(this.heading,this.targetHeading,.01)||(a.subtract(w,this.targetHeading,this.heading),w.multiplyScalar(.015),this.heading.add(w),this.heading.normalize(),this.rocket.node.angle=h(Math.atan2(this.heading.y,this.heading.x))-90),this.shootTimer+=t,this.shootTimer>=this.shootInterval&&(this.shootTimer-=this.shootInterval,this.rocket.shoot(this.heading)),this.shakeInfo.update(t,this.node)},e}(o)).prototype,"rocket",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=l(m.prototype,"planetShield",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=m))||P));e._RF.pop()}}}));

System.register("chunks:///_virtual/Rocket.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameMgr.ts","./ObjPool.ts"],(function(e){"use strict";var t,o,i,r,n,a,l,c,s,p,u,y,d,f,b,h,g,v;return{setters:[function(e){t=e.cclegacy,o=e._decorator,i=e.v3,r=e.Prefab,n=e.Node,a=e.v2,l=e.AudioSourceComponent,c=e.UITransform,s=e.Vec3,p=e.RigidBody2D,u=e.Component},function(e){y=e.applyDecoratedDescriptor,d=e.inheritsLoose,f=e.initializerDefineProperty,b=e.assertThisInitialized,h=e.defineProperty},function(e){g=e.GameMgr},function(e){v=e.ObjPool}],execute:function(){var m,P,R,k,C,S,z,w,L,T;t._RF.push({},"37442T8SCNMF6UjG7iL4/lJ","Rocket",void 0);var _=o.ccclass,j=o.property,x=i();e("Rocket",(m=_("Rocket"),P=j({type:r}),R=j({type:n}),k=j({type:n}),m((z=y((S=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,f(b(t),"bulletPrefab",z,b(t)),f(b(t),"rocketSprite",w,b(t)),f(b(t),"shootPoint",L,b(t)),f(b(t),"speed",T,b(t)),h(b(t),"velocity",a()),h(b(t),"audio",void 0),t}d(t,e);var o=t.prototype;return o.onLoad=function(){this.audio=this.getComponent(l)},o.shoot=function(e){this.velocity.x=e.x*this.speed,this.velocity.y=e.y*this.speed;var t=this.shootPoint.getComponent(c).convertToWorldSpaceAR(s.ZERO,x),o=v.getNode(this.bulletPrefab.data.name,this.bulletPrefab);o.parent=g.inst.gameLayer,o.parent.getComponent(c).convertToNodeSpaceAR(t,x),o.setPosition(x),o.angle=this.node.angle;var i=o.getComponent(p);i.fixedRotation=!0,i.linearVelocity=this.velocity,this.audio.play()},t}(u)).prototype,"bulletPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y(S.prototype,"rocketSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=y(S.prototype,"shootPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=y(S.prototype,"speed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),C=S))||C));t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjPool.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,o,n,s,i;return{setters:[function(e){t=e.cclegacy,o=e.resources,n=e.Prefab,s=e.instantiate},function(e){i=e.defineProperty}],execute:function(){t._RF.push({},"3bc55ixAUFLDpoSiWumoTQU","ObjPool",void 0);var r=e("ObjPool",function(){function e(){}return e.load=function(e){var t=this;return new Promise((function(s,i){o.loadDir("Prefabs/"+e,n,(function(o,n){o?i(!1):(n.forEach((function(e){t.prefabs.set(e.data.name,e)})),t.prefabType.set(e,n),s(!0))}))}))},e.getNode=function(e,t){void 0===t&&(t=null),this._pools.has(e)||this._pools.set(e,[]);var o,n=this._pools.get(e);return(o=0===n.length?s(t||this.prefabs.get(e)):n.pop()).active=!0,o},e.putNode=function(e){this._pools.get(e.name).indexOf(e),e.active=!1,this._pools.get(e.name).push(e)},e}());i(r,"_pools",new Map),i(r,"prefabs",new Map),i(r,"prefabType",new Map),t._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./Global.ts"],(function(t){"use strict";var i,o,e,n,r,s,a,c,u,l,p,h,y,d,E,T;return{setters:[function(t){i=t.cclegacy,o=t._decorator,e=t.v3,n=t.Node,r=t.UIOpacity,s=t.CCInteger,a=t.SystemEvent,c=t.Vec3,u=t.Component},function(t){l=t.UI_EVENT},function(t){p=t.applyDecoratedDescriptor,h=t.inheritsLoose,y=t.initializerDefineProperty,d=t.assertThisInitialized,E=t.defineProperty},function(t){T=t.Global}],execute:function(){var f,v,O,b,g,_,m,P,C,L,R;i._RF.push({},"49d30+Dqs1K54WBcedCRITM","Joystick",void 0);var S=o.ccclass,z=o.property,M=e(),U=e(),I=e();t("Joystick",(f=S("Joystick"),v=z(n),O=z(n),b=z(r),g=z(s),f((P=p((m=function(t){function i(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return i=t.call.apply(t,[this].concat(e))||this,y(d(i),"dot",P,d(i)),y(d(i),"ring",C,d(i)),y(d(i),"uiOpacity",L,d(i)),y(d(i),"radius",R,d(i)),E(d(i),"isTouch",!1),i}h(i,t);var o=i.prototype;return o.onLoad=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.uiOpacity.opacity=0},o.onTouchStart=function(t){t.getUILocation(M),M.z=0,this.ring.setWorldPosition(M),this.dot.setPosition(c.ZERO),this.uiOpacity.opacity=255,this.isTouch=!0},o.onTouchMove=function(t){t.getUILocation(U),U.z=0,c.subtract(I,U,M);var i=I.length();0!==i&&(this.radius>i?(this.dot.setWorldPosition(U),T.uiEvent.emit(l.PLAYER_MOVE,I.multiplyScalar(1/i))):(I.multiplyScalar(1/i),T.uiEvent.emit(l.PLAYER_MOVE,I),I.multiplyScalar(this.radius),this.dot.setPosition(I)))},o.onTouchEnd=function(t){this.dot.setPosition(c.ZERO),this.uiOpacity.opacity=0,T.uiEvent.emit(l.PLAYER_STOP_MOVE)},i}(u)).prototype,"dot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=p(m.prototype,"ring",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=p(m.prototype,"uiOpacity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=p(m.prototype,"radius",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),_=m))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/Shake.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,n,s;return{setters:[function(t){i=t.cclegacy},function(t){n=t.createClass,s=t.defineProperty}],execute:function(){i._RF.push({},"4d5e6GQcw1AULIPkzsyJSQx","Shake",void 0);var e=t("Shake",function(){function t(){s(this,"amplitude",0),s(this,"frequency",0),s(this,"duration",0),s(this,"samples",[]),s(this,"shaking",!1),s(this,"t",0)}t.new=function(i,n,s){var e=this.objPool.pop()||new t;return e.init(i,n,s),e},t.push=function(t){this.objPool.push(t)};var i=t.prototype;return i.init=function(t,i,n){this.amplitude=t,this.frequency=i,this.duration=n;var s=n*i;this.samples.length=0;for(var e=0;e<s;e++)this.samples.push(this.randomRange(-1,1));this.t=0,this.shaking=!0},i.randomRange=function(t,i){return t+Math.random()*(i-t)},i.update=function(t){this.t+=t,this.t>this.duration&&(this.shaking=!1)},i.getAmplitude=function(){if(!this.shaking)return 0;var t=this.t*this.frequency,i=Math.floor(t),n=i+1,s=this.decay(this.t);return this.amplitude*(this.noise(i)+(t-i)*(this.noise(n)-this.noise(i)))*s},i.noise=function(t){return t>=this.samples.length?0:this.samples[t]},i.decay=function(t){return t>this.duration?0:(this.duration-t)/this.duration},n(t,[{key:"notShaking",get:function(){return!this.shaking}}]),t}());s(e,"objPool",[]),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,n,a,o,l,c,p;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.Node,n=e.Component},function(e){a=e.defineProperty,o=e.applyDecoratedDescriptor,l=e.inheritsLoose,c=e.initializerDefineProperty,p=e.assertThisInitialized}],execute:function(){var s,u,y,f,g,m,b,d,h;t._RF.push({},"5b9ccnNdipOwbiBhffFOQKc","GameMgr",void 0);var v=r.ccclass,L=r.property;e("GameMgr",(s=v("GameMgr"),u=L({type:i}),y=L({type:i}),s((h=d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,c(p(t),"gameLayer",m,p(t)),c(p(t),"planet",b,p(t)),a(p(t),"gameActive",!0),t}return l(t,e),t.prototype.onLoad=function(){t.inst=this},t}(n),a(d,"inst",null),m=o((g=h).prototype,"gameLayer",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=o(g.prototype,"planet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,n,r,i;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget},function(e){r=e.defineProperty,i=e.inheritsLoose}],execute:function(){t._RF.push({},"67ac3wRn0tGkqdtSMW3QIg6","Global",void 0);var o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n),u=e("Global",(function(){}));r(u,"uiEvent",new o),r(u,"gameLayer",void 0),r(u,"bulletLayer",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/TrailRenderer.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,a,n,o,l,s,u,c,f,p;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.Vec2,a=e.Pool,n=e.MotionStreak,o=e.Color,l=e.Enum},function(e){s=e.applyDecoratedDescriptor,u=e.inheritsLoose,c=e.initializerDefineProperty,f=e.assertThisInitialized,p=e.defineProperty}],execute:function(){var v,h,d,D,y;t._RF.push({},"a365et3uupJRLa3r98EwB17","TrailRenderer",void 0);var m=r.ccclass,x=r.property,g=new i,b=new i;var _,R=new a((function(){return new n.Point}),16),w=e("MotionStreakAssembler",{createData:function(e){var t=e.requestRenderData();return t.dataLength=4,t.vertexCount=16,t.indicesCount=42,t},update:function(e,t){var r,a=e.node.worldMatrix,n=a.m12,o=a.m13,l=e.points;if(e.minSeg>0&&l.length>1){var s=l[0],u=s.point.x-n,c=s.point.y-o;u*u+c*c<e.minSeg&&(r=s)}if(r||(r=R.alloc(),l.unshift(r)),r.setPoint(n,o),r.time=e.fadeTime+t,!(l.length<2)){var f,p=0,v=e.renderData,h=e.color,d=h.r,D=h.g,y=h.b,m=h.a,x=l[1];i.subtract(b,r.point,x.point),b.normalize(),function(e,t){e.x=-t.y,e.y=t.x}(g,b),x.setDir(g.x,g.y),r.setDir(g.x,g.y),v.dataLength=2*l.length;for(var w=v.data,C=e.fadeTime,S=e.halfStroke,k=l.length-1;k>=0;k--){var B=l[k],L=B.point,T=B.dir;if(B.time-=t,B.time<0)R.free(l[k]),l.splice(k,1);else{var P=B.time/C,U=P,z=(P*m<<24>>>0)+(y<<16)+(D<<8)+d,A=p;w[A].x=L.x+T.x*S*U,w[A].y=L.y+T.y*S*U,e.trailDir==_.Up?(w[A].u=1,w[A].v=1-P):e.trailDir==_.Right?(w[A].u=P,w[A].v=1):e.trailDir==_.Down?(w[A].u=1,w[A].v=P):(w[A].u=1-P,w[A].v=1),w[A].color._val=z,w[A+=1].x=L.x-T.x*S*U,w[A].y=L.y-T.y*S*U,e.trailDir==_.Up?(w[A].u=0,w[A].v=1-P):e.trailDir==_.Right?(w[A].u=P,w[A].v=0):e.trailDir==_.Down?(w[A].u=0,w[A].v=P):(w[A].u=1-P,w[A].v=0),w[A].color._val=z,p+=2}}f=p<=2?0:3*(p-2),v.vertexCount=p,v.indicesCount=f}},updateRenderData:function(e){},fillBuffers:function(e,t){var r=e.renderData,i=r.data,a=t.acquireBufferBatch(),n=a.byteOffset>>2,l=a.indicesOffset,s=a.vertexOffset;a.request(r.vertexCount,r.indicesCount)||(a=t.currBufferBatch,l=0,s=0);for(var u=a.vData,c=a.iData,f=r.vertexCount,p=r.indicesCount,v=0;v<f;v++){var h=i[v];u[n++]=h.x,u[n++]=h.y,u[n++]=h.z,u[n++]=h.u,u[n++]=h.v,o.toArray(u,h.color,n),n+=4}for(var d=0,D=p;d<D;d+=2){var y=s+d;c[l++]=y,c[l++]=y+2,c[l++]=y+1,c[l++]=y+1,c[l++]=y+2,c[l++]=y+3}}});!function(e){e[e.Up=0]="Up",e[e.Right=1]="Right",e[e.Down=2]="Down",e[e.Left=3]="Left"}(_||(_={}));e("TrailRenderer",(v=m("TrailRenderer"),h=x({type:l(_),tooltip:"头尾头的朝上则选Up，其他方向类推。"}),v((y=s((D=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,c(f(t),"trailDir",y,f(t)),p(f(t),"halfStroke",0),t}u(t,e);var r=t.prototype;return r.onEnable=function(){e.prototype.onEnable.call(this),this.halfStroke=this.stroke/2},r._flushAssembler=function(){var e=w;this._assembler!==e&&(this._assembler=e),this._renderData||this._assembler&&this._assembler.createData&&(this._renderData=this._assembler.createData(this),this._renderData.material=this.material)},t}(n)).prototype,"trailDir",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.Up}}),d=D))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./ObjPool.ts","./Enemy.ts"],(function(e){"use strict";var t,i,n,o,s,r,a,c,u,l,p,h,d,f;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.RigidBody2D,o=e.Collider2D,s=e.Contact2DType,r=e.Component},function(e){a=e.PhysicsGroup},function(e){c=e.applyDecoratedDescriptor,u=e.inheritsLoose,l=e.initializerDefineProperty,p=e.assertThisInitialized,h=e.defineProperty},function(e){d=e.ObjPool},function(e){f=e.Enemy}],execute:function(){var m,g,y;t._RF.push({},"d775bMi8VVA0YZ+u7uGEZ+O","Bullet",void 0);var b=i.ccclass,C=i.property;e("Bullet",b("Bullet")((y=c((g=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,l(p(t),"damage",y,p(t)),h(p(t),"lifeTime",0),h(p(t),"isDie",!1),h(p(t),"rb2d",void 0),t}u(t,e);var i=t.prototype;return i.onLoad=function(){this.rb2d=this.getComponent(n),this.getComponent(o).on(s.BEGIN_CONTACT,this.onBeginContact,this)},i.onEnable=function(){this.isDie=!1,this.rb2d.wakeUp(),this.lifeTime=3},i.onBeginContact=function(e,t,i){t.group&a.Enemy&&(this.die(),t.node.getComponent(f).takeDamage(this.damage))},i.die=function(){var e=this;this.rb2d.sleep(),this.lifeTime=0,this.isDie=!0,this.scheduleOnce((function(){d.putNode(e.node)}))},i.update=function(e){this.isDie||(this.lifeTime-=e,this.lifeTime<=0&&this.die())},t}(r)).prototype,"damage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=g))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./GameMgr.ts","./ObjPool.ts","./Planet.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,l,u,c,h,p,d,y,f,g,b,m,v,C,D,P,S,w,z,E;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.v3,n=t.CCFloat,a=t.CCInteger,r=t.Prefab,s=t.AudioClip,l=t.v2,u=t.AudioSourceComponent,c=t.RigidBody2D,h=t.Collider2D,p=t.Contact2DType,d=t.instantiate,y=t.ParticleSystem2D,f=t.SpriteComponent,g=t.toDegree,b=t.Component},function(t){m=t.PhysicsGroup},function(t){v=t.applyDecoratedDescriptor,C=t.inheritsLoose,D=t.initializerDefineProperty,P=t.assertThisInitialized,S=t.defineProperty},function(t){w=t.GameMgr},function(t){z=t.ObjPool},function(t){E=t.Planet}],execute:function(){var x,_,k,B,M,O,R,A,G,H,I,L,T,j,F,N;e._RF.push({},"f6eb5t31m1JgIkvQapxLOcJ","Enemy",void 0);var J=i.ccclass,Q=i.property;o(),t("Enemy",(x=J("Enemy"),_=Q({type:n}),k=Q({type:n}),B=Q({type:a}),M=Q({type:r}),O=Q({type:s}),R=Q({type:s}),x((H=v((G=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,D(P(e),"health",H,P(e)),D(P(e),"speed",I,P(e)),D(P(e),"damage",L,P(e)),D(P(e),"stunned",T,P(e)),D(P(e),"deathParticleEffect",j,P(e)),S(P(e),"rb2d",void 0),S(P(e),"velocity",l()),S(P(e),"isDeath",!1),D(P(e),"audioHited",F,P(e)),D(P(e),"audioDeath",N,P(e)),S(P(e),"audioSource",void 0),e}C(e,t);var i=e.prototype;return i.onLoad=function(){this.audioSource=this.getComponent(u),this.rb2d=this.getComponent(c),this.speed*=this.randomRanage(.9,1.1),this.getComponent(h).on(p.BEGIN_CONTACT,this.onBeginContact,this)},i.onEnable=function(){this.rb2d.wakeUp()},i.onBeginContact=function(t,e,i){e.group&m.Planet?(e.node.getComponent(E).shake(),this.die()):e.group&m.Shield&&this.die()},i.die=function(){var t=this;this.isDeath=!0;var e=d(this.deathParticleEffect);e.parent=this.node.parent,e.setPosition(this.node.position),e.getComponent(y).startColor=this.getComponent(f).color,this.rb2d.sleep(),this.scheduleOnce((function(){z.putNode(t.node)})),this.audioSource.clip=this.audioDeath,this.audioSource.play()},i.takeDamage=function(t){this.isDeath||(this.health-=t,this.health<=0?this.die():(this.audioSource.clip=this.audioHited,this.audioSource.play()))},i.randomRanage=function(t,e){return console.assert(e>t),t+Math.random()*(e-t)},i.update=function(t){if(!this.isDeath){var e=w.inst.planet.position;this.velocity.x=e.x-this.node.position.x,this.velocity.y=e.y-this.node.position.y,this.velocity.multiplyScalar(this.speed/this.velocity.length()),this.rb2d.linearVelocity=this.velocity,this.node.angle=g(Math.atan2(this.velocity.y,this.velocity.x))-90}},e}(b)).prototype,"health",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=v(G.prototype,"speed",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),L=v(G.prototype,"damage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=v(G.prototype,"stunned",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=v(G.prototype,"deathParticleEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=v(G.prototype,"audioHited",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=v(G.prototype,"audioDeath",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=G))||A));e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./GameMgr.ts","./ObjPool.ts","./EnemySpawner.ts","./Global.ts","./Rocket.ts","./Shake.ts","./Planet.ts","./Joystick.ts","./TrailRenderer.ts","./Enemy.ts","./Bullet.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});